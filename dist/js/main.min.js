dashboard={diskData:[{id:1,nome:"Maria",salario:2e3},{id:2,nome:"Carlos",salario:1500},{id:3,nome:"Paola",salario:2200},{id:4,nome:"Emília",salario:1800},{id:5,nome:"Otávio",salario:1400}],logMemoryData:[],bufferMemoryData:[],logDisk:[],insertTable:function(a,e,t){const o=[...t.reduce((e,a)=>(Object.keys(a).forEach(a=>e.add(a)),e),new Set)];var r=o.map(a=>`<th>${a}</th>`).join(""),t=t.map(e=>o.map(a=>`<td>${e[a]}</td>`).join("")).map(a=>`<tr>${a}</tr>`).join("");a.innerHTML=`<table><caption class="title">${e}</caption><thead><tr>${r}</tr></thead> <tbody>${t}</body></table>`},executeTransaction:function(){const a=document.querySelectorAll("[data-transaction]"),d=document.querySelector("[data-memory-log]"),l=document.querySelector("[data-memory-buffer]");0<a.length&&a.forEach(a=>{const s=a.querySelector(".sql");s.addEventListener("submit",a=>{a.preventDefault();const e=s.querySelector('input[name="where"]')?.value,t=s.querySelector('input[name="comparison"]')?.value,o=Number(s.querySelector('input[name="set_value"]')?.value),r=dashboard.diskData.find(a=>a[e]==t),n=r.salario,i={...r,salario:o};a={Transaction:"Transação "+s.querySelector('input[name="transaction_number"]').value,Tabela:"Funcionário",Linha:t,Atributo:"Salário",Antes:n,Depois:o};dashboard.logMemoryData.push(a),dashboard.bufferMemoryData.push(i),this.insertTable(d,"Memória - Buffer LOG",dashboard.logMemoryData),this.insertTable(l,"Memória - Buffer Dados",dashboard.bufferMemoryData),s.reset()})})},init:function(){var a=document.querySelector("[data-disk-data]");this.insertTable(a,"Disco - Dados",dashboard.diskData),this.executeTransaction()}},window.addEventListener("DOMContentLoaded",()=>{dashboard.init()});